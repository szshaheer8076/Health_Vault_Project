{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar API_URL = 'http://192.168.1.10:5000/api';\nvar api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napi.interceptors.request.use(function () {\n  var _ref = _asyncToGenerator(function* (config) {\n    var token = yield AsyncStorage.getItem('sessionToken');\n    if (token) {\n      config.headers['x-auth-token'] = token;\n    }\n    return config;\n  });\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(), function (error) {\n  return Promise.reject(error);\n});\nexport var register = function register(email, password, fullName) {\n  return api.post('/auth/register', {\n    email: email,\n    password: password,\n    fullName: fullName\n  });\n};\nexport var login = function login(email, password) {\n  return api.post('/auth/login', {\n    email: email,\n    password: password\n  });\n};\nexport var logout = function logout() {\n  return api.post('/auth/logout');\n};\nexport var getProfile = function getProfile() {\n  return api.get('/profile');\n};\nexport var updateProfile = function updateProfile(profileData) {\n  return api.put('/profile', profileData);\n};\nexport var getMedications = function getMedications() {\n  return api.get('/medications');\n};\nexport var addMedication = function addMedication(medicationData) {\n  return api.post('/medications', medicationData);\n};\nexport var updateMedication = function updateMedication(id, medicationData) {\n  return api.put(`/medications/${id}`, medicationData);\n};\nexport var deleteMedication = function deleteMedication(id) {\n  return api.delete(`/medications/${id}`);\n};\nexport var getDocuments = function getDocuments() {\n  return api.get('/documents');\n};\nexport var uploadDocument = function () {\n  var _ref2 = _asyncToGenerator(function* (title, fileUri) {\n    var formData = new FormData();\n    formData.append('title', title);\n    var filename = fileUri.split('/').pop();\n    var match = /\\.(\\w+)$/.exec(filename);\n    var type = match ? `image/${match[1]}` : 'image';\n    formData.append('file', {\n      uri: fileUri,\n      name: filename,\n      type: type\n    });\n    return api.post('/documents', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  });\n  return function uploadDocument(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var deleteDocument = function deleteDocument(id) {\n  return api.delete(`/documents/${id}`);\n};\nexport default api;","map":{"version":3,"names":["axios","AsyncStorage","API_URL","api","create","baseURL","headers","interceptors","request","use","_ref","_asyncToGenerator","config","token","getItem","_x","apply","arguments","error","Promise","reject","register","email","password","fullName","post","login","logout","getProfile","get","updateProfile","profileData","put","getMedications","addMedication","medicationData","updateMedication","id","deleteMedication","delete","getDocuments","uploadDocument","_ref2","title","fileUri","formData","FormData","append","filename","split","pop","match","exec","type","uri","name","_x2","_x3","deleteDocument"],"sources":["C:/Users/malik/OneDrive/Desktop/Health_Vault_Project/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n// Change this to your computer's IP address when testing on device\r\nconst API_URL = 'http://192.168.1.10:5000/api';\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n// Add token to requests automatically\r\napi.interceptors.request.use(\r\n  async (config) => {\r\n    const token = await AsyncStorage.getItem('sessionToken');\r\n    if (token) {\r\n      config.headers['x-auth-token'] = token;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Auth APIs\r\nexport const register = (email, password, fullName) => {\r\n  return api.post('/auth/register', { email, password, fullName });\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return api.post('/auth/login', { email, password });\r\n};\r\n\r\nexport const logout = () => {\r\n  return api.post('/auth/logout');\r\n};\r\n\r\n// Profile APIs\r\nexport const getProfile = () => {\r\n  return api.get('/profile');\r\n};\r\n\r\nexport const updateProfile = (profileData) => {\r\n  return api.put('/profile', profileData);\r\n};\r\n\r\n// Medication APIs\r\nexport const getMedications = () => {\r\n  return api.get('/medications');\r\n};\r\n\r\nexport const addMedication = (medicationData) => {\r\n  return api.post('/medications', medicationData);\r\n};\r\n\r\nexport const updateMedication = (id, medicationData) => {\r\n  return api.put(`/medications/${id}`, medicationData);\r\n};\r\n\r\nexport const deleteMedication = (id) => {\r\n  return api.delete(`/medications/${id}`);\r\n};\r\n\r\n// Document APIs\r\nexport const getDocuments = () => {\r\n  return api.get('/documents');\r\n};\r\n\r\nexport const uploadDocument = async (title, fileUri) => {\r\n  const formData = new FormData();\r\n  formData.append('title', title);\r\n  \r\n  const filename = fileUri.split('/').pop();\r\n  const match = /\\.(\\w+)$/.exec(filename);\r\n  const type = match ? `image/${match[1]}` : 'image';\r\n\r\n  formData.append('file', {\r\n    uri: fileUri,\r\n    name: filename,\r\n    type\r\n  });\r\n\r\n  return api.post('/documents', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  });\r\n};\r\n\r\nexport const deleteDocument = (id) => {\r\n  return api.delete(`/documents/${id}`);\r\n};\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}